#!/usr/bin/env ruby
APP_PATH = File.expand_path('../../config/application',  __dir__)
require_relative '../config/boot'
require_relative '../config/environment'
require "benchmark"

unless ARGV.size == 1
  puts "Usage: #{__FILE__} path/to/csvs/directory"
  exit 1
end

csv_files_path = ARGV[0]

unless Dir.exists? csv_files_path
  puts "The directory #{csv_files_path} does not exist"
  exit 1
end

Indexing.index_csv_tables(csv_files_path)
